
# yPlotä»‹ç»

> è¿™æ¬¾è½¯ä»¶å¯ä»¥å°†ä¸²å£æ¥å—åˆ°çš„æ•°æ®ä»¥æ³¢å½¢çš„æ–¹å¼æ˜¾ç¤ºï¼Œæ–¹ä¾¿æŸ¥çœ‹æ•°æ®å’Œè°ƒè¯•å‚æ•°ã€‚åœ¨ç”µèµ›ç­‰ä¸€äº›åœºåˆç”¨æ¥è°ƒè¯•PIDå‚æ•°éå¸¸æ–¹ä¾¿ã€‚
> åœ¨åˆšå¼€å§‹å‚åŠ æ¯”èµ›çš„æ—¶å€™åšæ— äººæœºï¼Œå…¨é è‚‰çœ¼è°ƒå‚ï¼Œç„¶åä¸€éåˆä¸€éçš„ä¿®æ”¹å‚æ•°ï¼Œç¼–è¯‘ç¨‹åºï¼Œä¸‹è½½ç¨‹åºã€‚æ•ˆç‡ä½è€Œä¸”æ…¢ã€‚åæ¥äº†è§£åˆ°æœ‰è½¯ä»¶ç¤ºæ³¢å™¨ï¼Œç”¨è¿‡åŒ¿åçš„ï¼Œç”¨è¿‡å±±å¤–è°ƒè¯•åŠ©æ‰‹ï¼Œä½†æ˜¯ä»–ä»¬çœ‹æ³¢å½¢è¿˜è¡Œï¼Œåœ¨çº¿ä¿®æ”¹å‚æ•°ä¸æ–¹ä¾¿ã€‚åæ¥åˆäº†è§£åˆ°ä¸€ä¸ªå«åšserialplotçš„è½¯ä»¶ï¼Œéå¸¸å¥½ç”¨ï¼Œä½†æ˜¯å‘é€å‚æ•°è¿˜æ˜¯æ„Ÿè§‰ä¸åˆé€‚ã€‚æ‰€ä»¥å°±æƒ³ç€è‡ªå·±å¼€å‘ä¸€æ¬¾è½¯ä»¶ç”¨æ¥è°ƒå‚ã€‚
> è¿™æ¬¾è½¯ä»¶UIæ¸…æ–°ï¼Œé€šä¿¡åè®®ç®€å•ï¼Œå‘é€å‘½ä»¤ã€æ³¢å½¢åç§°æ˜¾ç¤ºç­‰æ›´å¤šè€ƒè™‘åˆ°èˆ’é€‚æ€§çš„é—®é¢˜ã€‚æ³¢å½¢æ˜¾ç¤ºçª—å£ä½¿ç”¨çš„æ˜¯Qtè‡ªå¸¦çš„QCustomPlotæ§ä»¶ã€‚

#### ç‰¹ç‚¹ï¼š
*   è‡ªé€‚åº”æ•°æ®é€šé“ï¼Œè‡ªåŠ¨æ·»åŠ çº¿æ¡åç§°

*   æ”¯æŒè¶…å¤§æ•°æ®é‡æ˜¾ç¤ºä¸å¡é¡¿

*   æ”¯æŒå¤šç§æ³¢ç‰¹ç‡

*   ç•Œé¢ç¾è§‚ã€æ€§èƒ½å¼ºåŠ²

*   PIDè°ƒè¯•ç¥å™¨

*   é¼ æ ‡æ“ä½œéå¸¸æ–¹ä¾¿
  
*   å‘åˆ°ä¸Šä½æœºçš„æ•°æ®ç±»å‹åªèƒ½æ˜¯ float å‹ ï¼ï¼ï¼

**å¼€å‘ç¯å¢ƒ**

*   QT5.9.8

**é¡¹ç›®å¼€æºä»“åº“é“¾æ¥**

*   githubï¼š[https://github.com/syuan7/y-serialplot](https://github.com/syuan7/y-serialplot "https://github.com/syuan7/y-serialplot")

**ä¸‹è½½å®‰è£…åŒ…**
* åœ¨ä¸Šé¢äº†è¿æ¥ä¸­é€‰æ‹©è¿™é‡Œ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a6722c8e8f5d40e5965c952c27e8edca.png)

<center><img src="https://img-blog.csdnimg.cn/5e8bdec865cc4be9aba0dfeeeb617c98.png" width="60%"></center>


# ä½¿ç”¨å¸®åŠ©

## 1 è½¯ä»¶é¡µé¢è¯´æ˜

### ğŸ“Œ é¼ æ ‡æ“ä½œ

*   å·¦é”®æ¡†é€‰æ”¾å¤§

*   å³é”®æŒ‰ä½å¯æ‹–åŠ¨çº¿æ¡

*   å•å‡»å³é”®è§†å›¾å¤ä½

*   å·¦å‡»çº¿æ¡çªå‡ºæ˜¾ç¤º

*   å·¦å‡»å›¾ä¾‹éšè—çº¿æ¡

*   æŒ‰é’®åŠŸèƒ½
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d44a3dbfce8d4dfba4c714a4c68526ee.png)


*   è§†çª—æ“ä½œ

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5940c20a6bee4268be819de1b17ed7d4.png)


*   å‘½ä»¤å‘é€åŒºåŸŸ

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f00c827e23be42a185f9817d339d46a3.png)


å‘½ä»¤çš„å‘é€æœ‰ï¼šæŒ‰å¯¹åº”çš„å¿«æ·é”®ï¼Œé¼ æ ‡ç‚¹å‡»å‘é€æŒ‰é’®ï¼Œè¾“å…¥æŒ‡ä»¤åæŒ‰ä¸‹å›è½¦é”®ï¼Œè¿™ä¸‰ç§å‘é€æ–¹å¼ã€‚ä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚

## 2 å¦‚ä½•è¿æ¥ä¸‹ä½æœº

*   æœ‰çº¿è¿æ¥

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ee99181bdc1647c09995702b0890f722.png)


*   æ— çº¿è¿æ¥

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a5cf1621dede483aa84775cdd0eec116.png)


å•ç‰‡æœºçš„ä¸²å£èƒ½å¤Ÿè¢«ç”µè„‘è¯†åˆ«ï¼Œå¿…é¡»è¦æœ‰USB-TTLè½¬æ¥æ¨¡å—æ‰è¡Œã€‚å› ä¸ºä¸€èˆ¬å•ç‰‡æœºçš„ä¸²å£ä¸ºTTLç”µå¹³ä¿¡å·ï¼Œå’ŒUSBæ¥å£çš„ç”µå¹³ä¿¡å·ä¸å…¼å®¹ï¼Œå› æ­¤éœ€è¦ç‰¹æ®Šçš„èŠ¯ç‰‡è¿›è¡Œè½¬æ¥ã€‚å¸¸ç”¨çš„èŠ¯ç‰‡æœ‰CH340å’ŒCP2102ã€‚

**ç„¶åä½¿ç”¨USB-TTLæ¨¡å—éœ€è¦æ ¹æ®èŠ¯ç‰‡ä¿¡å·ï¼Œå®‰è£…é©±åŠ¨ã€‚**

é©±åŠ¨å®‰è£…å¥½äº†ä¹‹åï¼Œåº”è¯¥èƒ½å¤Ÿåœ¨ç”µè„‘çš„è®¾å¤‡ç®¡ç†å™¨ä¸­çœ‹åˆ°è¯¥ä¸²å£è®¾å¤‡ã€‚ï¼ˆä¸‹å›¾ä¸­çš„èŠ¯ç‰‡ä¸ºCH340èŠ¯ç‰‡ï¼‰

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/7e91024d002040028afa4f2feda6c8b2.png)


è¿™é‡Œæä¾›äº†CH340çš„é©±åŠ¨ï¼Œä¸€èµ·æ”¾åœ¨è½¯ä»¶ç›®å½•ä¸‹äº†ã€‚

å¦‚æœå®‰è£…å¤±è´¥ï¼Œå¯ä»¥å°è¯•å…ˆç‚¹å‡»å¸è½½ï¼Œç„¶åå†ç‚¹å‡»å®‰è£…ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5e4d8b4f1e5f4eb5a730dc2511ac9437.png)


## 3 é€šä¿¡åè®®è¯´æ˜

æ­£ç¡®è¿æ¥è®¾å¤‡ä¹‹åï¼Œéœ€è¦åœ¨è®¾å¤‡ä¸­æŒ‰ç…§æœ¬èŠ‚é€šä¿¡åè®®ç¼–å†™æ³¢å½¢å‘é€ç¨‹åºï¼Œæœ¬è½¯ä»¶æ‰èƒ½æ˜¾ç¤ºæ•°æ®æ³¢å½¢ã€‚

### 3.1 ä¸‹ä½æœºå‘è½¯ä»¶å‘é€æ³¢å½¢çš„åè®®

ä¸ºäº†èƒ½å¤Ÿè‡ªåŠ¨é€‚åº”æ³¢å½¢é€šé“çš„åç§°ï¼Œé€šä¿¡åè®®åˆ†ä¸ºä¸¤æ®µã€‚

*   æ³¨æ„ï¼š**è½¯ä»¶å’ŒSTM32ä½¿ç”¨çš„å‡æ˜¯å°ç«¯æ¨¡å¼ã€‚**

*   ç¬¬ä¸€æ®µï¼šnameå­—æ®µ

    |    | å¸§å¤´     | ch1çš„åç§°        | åˆ†éš”ç¬¦  | ch2çš„åç§°        | åˆ†éš”ç¬¦  | chnçš„åç§° | å¸§å°¾     |
    | -- | ------ | ------------- | ---- | ------------- | ---- | ------ | ------ |
    | å­—ç¬¦ | AABBCC | name1         | ,    | name2         | ,    | ...    | CCBBAA |
    | å¤‡æ³¨ |        | ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œä¸èƒ½ä¸­æ–‡ | è‹±æ–‡é€—å· | ä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œä¸èƒ½ä¸­æ–‡ | è‹±æ–‡é€—å· | ....   |        |

    **ä¾‹ï¼šAABBCCch1,ch2,ch3CCBBAA**

*   ç¬¬äºŒæ®µï¼šæ•°æ®å­—æ®µ

    |    | å¸§å¤´     | ch1çš„æ•°æ®        | ch2çš„æ•°æ®     | chnçš„æ•°æ®     | å¸§å°¾     |
    | -- | ------ | ------------- | ---------- | ---------- | ------ |
    | å­—ç¬¦ | DDEEFF | 123           | 123        | ...        | FFEEDD |
    | å¤‡æ³¨ |        | æ•°æ®ç±»å‹ä¸ºä¸Šä½æœºè®¾ç½®çš„ç±»å‹ | æ‰€æœ‰é€šé“æ•°æ®ç±»å‹ä¸€è‡´ | æ‰€æœ‰é€šé“æ•°æ®ç±»å‹ä¸€è‡´ |        |

**ä¾‹ï¼šDDEEFF12asdfas#@#\$345678FFEEEDD**

ä¸­é—´ä¸€æ®µè«åå…¶å¦™çš„å­—ç¬¦ï¼Œåº”è¯¥å¯ä»¥åœ¨ç¬¬4èŠ‚çš„å‘é€å‡½æ•°ä¸­å¾—åˆ°ç­”æ¡ˆã€‚

### 3.2 ä¸Šä½æœºå‘ä¸‹ä½æœºå‘é€æŒ‡ä»¤çš„åè®®

*   è¿™ä¸ªåè®®æ ¹æ®ä¸‹ä½æœºçš„è§£æç¨‹åºç¡®å®šï¼Œå¯ä»¥è‡ªå·±å†³å®šå‘é€ä»€ä¹ˆï¼Œåªè¦è‡ªå·±èƒ½å¤Ÿæ­£ç¡®è§£æå°±è¡Œã€‚

*   è¿™é‡Œè¯´æ˜æä¾›çš„STM32ç¤ºä¾‹ç¨‹åºä¸­ä½¿ç”¨çš„é€šä¿¡åè®®ã€‚

    |    | æ§åˆ¶å­—æ®µ   | åˆ†éš”ç¬¦ | æ•°æ®1     | åˆ†éš”ç¬¦  | æ•°æ®2     | åˆ†éš”ç¬¦  | æ•°æ®3     | ç»“æŸæ§åˆ¶ç¬¦ |
    | -- | ------ | --- | ------- | ---- | ------- | ---- | ------- | ----- |
    | å­—ç¬¦ | 3ä¸ªchar | =   | 1ä¸ªfloat | è‹±æ–‡ , | 1ä¸ªfloat | è‹±æ–‡ , | 1ä¸ªfloat | #     |

**ä¾‹ï¼šPID=10.21,21.21,13.31#**

ç›´æ¥è¾“å…¥æµ®ç‚¹æ•°å°±è¡Œï¼Œä¸‹ä½æœºä¸­ä½¿ç”¨Cè¯­è¨€çš„æ ‡å‡†åº“è¿›è¡Œæ ¼å¼åŒ–ã€‚

### 4 STM32ç¤ºä¾‹ç¨‹åº

åœ¨è½¯ä»¶åŒ…ä¸­æä¾›äº†STM32F103çš„ç¤ºä¾‹å·¥ç¨‹ã€‚é»˜è®¤ä½¿ç”¨æœ¬è½¯ä»¶çš„åŒå­¦æœ‰STM32æˆ–è€…å•ç‰‡æœºå¼€å‘åŸºç¡€ã€‚æ‰€ä»¥å°±ä¸ä»‹ç»å·¥ç¨‹ç»“æ„å’Œä¸²å£åˆå§‹åŒ–éƒ¨åˆ†çš„ç¨‹åºã€‚æ²¡æœ‰åŸºç¡€çš„åŒå­¦å¯ä»¥å¯ä»¥è‡ªè¡Œå­¦ä¹ ä¸€ä¸‹ã€‚

ä¸‹é¢ä¸»è¦ä»‹ç»æ³¢å½¢å‘é€ã€å‘½ä»¤æ¥å—çš„ç¨‹åºã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/dcc0e791a1aa472cb03450ce04b1cc94.png)


### 4.1 æ³¢å½¢å‘é€

ä¾‹ç¨‹ä¸­ä½¿ç”¨çš„æ˜¯ STM32 çš„ä¸²å£1è¿›è¡Œæ•°æ®æ”¶å‘ã€‚

1.  æ³¢å½¢å‘é€ä¸šåŠ¡ä»£ç 

```c
void send_wave(void)
{
  //å®šä¹‰é€šé“åå¸§å¤´å¸§å°¾
  u8 frameNameHead[] = "AABBCC";
  u8 frameNameEnd[] = "CCBBAA";
  
  //å®šä¹‰æ•°æ®å¸§å¤´å¸§å°¾
  u8 frameDataHead[] = "DDEEFF";
  u8 frameDataEnd[] = "FFEEDD";
  
  //å®šä¹‰é€šé“å
  u8 name[] = {"sin(x),cos(x),cos(2x),2cos(x),P,I,D"};
  
  //èµ‹å€¼æ•°æ®
  float channels[7];
  channels[0] = datas[0];
  channels[1] = datas[1];
  channels[2] = datas[2];
  channels[3] = datas[3];
  channels[4] = cmd_P;
  channels[5] = cmd_I;
  channels[6] = cmd_D;
  
  
  //é€šè¿‡ä¸²å£1ï¼Œå‘ä¸Šä½æœºå‘é€æ•°æ®
  usart_senddatas(USART1,frameNameHead,sizeof(frameNameHead)-1);
  usart_senddatas(USART1,name,sizeof(name)-1);
  usart_senddatas(USART1,frameNameEnd,sizeof(frameNameEnd)-1);
  
  usart_senddatas(USART1,frameDataHead,sizeof(frameDataHead)-1);
  usart_senddatas(USART1,(u8*)channels,sizeof(channels));
  usart_senddatas(USART1,frameDataEnd,sizeof(frameDataEnd)-1);
  
}
```

12è¡Œçš„é€šé“åç§°ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸åŒé€šé“ä¹‹é—´ä»¥ `è‹±æ–‡é€—å·,` é—´éš”ï¼Œä¸Šä½æœºä¸­è®¾ç½®äº†å¤šå°‘ä¸ªé€šé“å°±å†™å¤šå°‘ä¸ªåå­—ã€‚

15è¡Œå®šä¹‰äº†å‘é€çš„æ•°æ®æ•°ç»„ï¼Œæ•°ç»„ç±»å‹éœ€è¦å’Œä¸Šä½æœºä¸­è®¾ç½®çš„ç±»å‹ä¸€æ ·ä¸€è‡´ã€‚æ•°ç»„æˆå‘˜æ•°é‡éœ€è¦å’Œä¸Šä½æœºä¸­è®¾ç½®çš„é€šé“æ•°é‡ä¸€è‡´ã€‚

16\~19è¡Œå¯¹æ•°ç»„èµ‹å€¼ã€‚æ•°æ®æ˜¯ `getdatas()` å‡½æ•°ç”Ÿæˆçš„ä¸‰è§’å‡½æ•°ã€‚

20\~22è¡Œå¯¹æ•°ç»„èµ‹å€¼ã€‚æ•°æ®æ˜¯ `get_cmd()` å‡½æ•°è·å–çš„ä¸Šä½æœºè®¾ç½®çš„PIDæ•°å€¼ã€‚

26\~32è¡Œä½¿ç”¨ä¸²å£1ï¼Œé€šè¿‡æ•°æ®æŒ‡é’ˆå°†æ•°æ®å‘å‡ºã€‚`usart_senddatasï¼ˆï¼‰` å‡½æ•°æ˜¯è‡ªå·±æ˜¯è‡ªå·±å®ç°çš„ä¸²å£å¤šå­—èŠ‚å‘é€å‡½æ•°ã€‚

1.  æ³¢å½¢å‘é€é©±åŠ¨

```c
void usart_senddatas(USART_TypeDef* USARTx,u8* addr,int size)
{
  while(size--) //åˆ¤æ–­æ•°æ®å‘é€å®Œæ²¡æœ‰
  {
    while(USART_GetFlagStatus(USARTx,USART_FLAG_TC) == RESET);//ç­‰å¾…ä¸Šä¸€ä¸ªbyteçš„æ•°æ®å‘é€ç»“æŸã€‚
    USART_SendData(USARTx,*addr);//è°ƒç”¨STM32æ ‡å‡†åº“å‡½æ•°å‘é€æ•°æ®
    addr++; //åœ°å€åç§»
  }
}
```

### 4.2 æ¥æ”¶ä»£ç 

1.  æ¥æ”¶é©±åŠ¨ï¼ˆä¸²å£ä¸­æ–­å‡½æ•°ï¼‰

*   è¿™ä¸ªå‡½æ•°ä¸éœ€è¦æˆ‘ä»¬è°ƒç”¨å®ƒï¼Œå®ƒä¼šåœ¨å•ç‰‡æœºä¸²å£æ¯æ¥æ”¶åˆ°1Byteæ•°æ®æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚æ¯”å¦‚å‘äº†å‘é€ä¸€ä¸ª hello å­—ç¬¦ï¼Œå•ç‰‡æœºå°±ä¼šè‡ªåŠ¨è°ƒç”¨5æ¬¡è¿™ä¸ªå‡½æ•°ã€‚

*   æ¥å—åˆ°çš„å­—ç¬¦ä¼šå­˜åœ¨ `usart_readbuff` æ•°ç»„ä¸­ï¼Œå½“æ¥æ”¶åˆ° `#` æ—¶ï¼Œä¼šåœæ­¢å°†æ•°æ®ä¿å­˜åˆ°æ•°ç»„ï¼Œå¹¶ä¸”ç½®ä½ `usart_readok` ï¼Œç›´åˆ°æˆ‘ä»¬å¤„ç†äº†è¿™ä¸€å¸§æ•°æ®ã€‚

*   ä½¿ç”¨è¿™ç§æ–¹æ³•ä¼šè®©ç¨‹åºæœ‰å±‚æ¬¡æ€§ï¼Œä½†æ˜¯ä¼šå‡ºç°æ•°æ®é˜»å¡ï¼ˆå¿…é¡»è¦å¤„ç†äº†ä¸Šä¸€å¸§æ•°æ®æ‰ä¼šæ¥æ”¶ä¸‹ä¸€å¸§æ•°æ®ï¼‰ã€‚

```c
char usart_readbuff[30] = {0}; //ä¸²å£æ¥å—ç¼“å­˜æ•°ç»„
u8 usart_readok = 0; //ä¸€å¸§æ•°æ®å¤„ç†æ ‡å¿—
void USART1_IRQHandler(void)                  //ä¸²å£1ä¸­æ–­æœåŠ¡ç¨‹åº
{
  u8 temp;
  static u8 count = 0;  // æ¥æ”¶æ•°ç»„æ§åˆ¶å˜é‡
  if(USART_GetITStatus(USART1, USART_IT_RXNE) != RESET)  //åˆ¤æ–­æ˜¯å¦ä¸ºæ¥æ”¶ä¸­æ–­
  {
    temp = USART_ReceiveData(USART1);  //è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®,å¹¶æ¸…é™¤ä¸­æ–­æ ‡å¿—
    if(temp == '#' && usart_readok == 0) 
    {
      usart_readbuff[count] = '#';
      usart_readok = 1;
      count = 0;
    }
    else if(usart_readok==0)
    {
      usart_readbuff[count] = temp; //ä¿å­˜æ¥æ”¶åˆ°çš„æ•°æ®åˆ°æ¥æ”¶ç¼“å­˜æ•°ç»„
      count++; //æ•°ç»„ä¸‹æ ‡åˆ‡æ¢
      if(count >= 30) // é˜²æ­¢æ•°æ®è¶Šç•Œ
        count = 0;
    }
  }
}
```

1.  è§£æå‡½æ•°

*   å…³äº `sscanf()å’Œmemset()` å‡½æ•°å¤§å®¶è‡ªè¡Œäº†è§£ã€‚

*   ç¬¬6è¡Œçš„ `"%3s=%f,%f,%f#"` å­—ç¬¦æ ¼å¼åŒ–ï¼Œå’Œç¬¬3.2èŠ‚çš„æ¥å—å‡½æ•°å¯¹åº”ã€‚

```c
u8 usart_get_data(char *cmd,float *d1,float *d2,float *d3)
{
  u8 flag = 0;
  if(usart_readok == 1)
  {
    if(sscanf(usart_readbuff,"%3s=%f,%f,%f#",
                      cmd,d1,d2,d3)==4)
    {
      flag = 1;
    }
    //æ¸…é™¤æ¥æ”¶å®Œæˆæ ‡å¿—
    memset(usart_readbuff,0,sizeof(usart_readbuff));
    usart_readok = 0;
  }
  return flag;
}
```

1.  æ¥æ”¶çš„ä¸šåŠ¡ä»£ç 

```c
void get_cmd(void)
{
  char u_buff[10];
  float u_d1,u_d2,u_d3;
  if(usart_get_data(u_buff,&u_d1,&u_d2,&u_d3))
  {
    if(strcmp(u_buff,"PID") == 0) //æ¯”è¾ƒå‘½ä»¤æ§åˆ¶å­—ç¬¦æ˜¯å¦ä¸ºPID
    {
      cmd_P = u_d1;
      cmd_I = u_d2;
      cmd_D = u_d3;
    }
  }
  memset(u_buff,0,sizeof(u_buff));
}
```

### 4.3 æ³¢å½¢ç”Ÿæˆå‡½æ•°

*   **è¿™ä¸ªå‡½æ•°åªæ˜¯ä¸ºäº†åœ¨è¿™ä¸ªç¤ºä¾‹ç¨‹åºä¸­äº§ç”Ÿä¸€ä¸ªæ³¢å½¢ç»™å¤§å®¶çœ‹ã€‚å®é™…ä½¿ç”¨æ—¶ç”¨éœ€è¦è§‚å¯Ÿçš„æ•°æ®å³å¯**ã€‚

```c
void getdatas(void)
{
  static float x = 0.00f * PI;
  datas[0] = sinf(x);
  datas[1] = cosf(x);
  datas[2] = cosf(2 * x);
  datas[3] = 2 * cosf(x);
  
  x += 0.05f * PI;
}
```

## 4 å¦‚ä½•äºŒæ¬¡å¼€å‘

éœ€è¦äºŒæ¬¡å¼€å‘è¯·åœ¨æ–‡ç« å¼€å¤´ï¼Œè´´çš„å¼€æºä»“åº“è¿æ¥ä¸­æ‹‰å–é¡¹ç›®ã€‚

*   å¼€å‘ç¯å¢ƒä¸º QT5.9.8 + QT Creator

*   ç¼–è¯‘é“¾ä¸º MinGWï¼ˆMSVCä¹Ÿå¯ä»¥ï¼‰

*   é¡¹ç›®æ˜¯åœ¨Windows 10ç³»ç»Ÿä¸­å¼€å‘çš„ã€‚

æ‹‰å–é¡¹ç›®ååœ¨ä¸‹å›¾æ¡†é€‰çš„æ–‡ä»¶å¤¹ä¸­ä½¿ç”¨ `QT Creator` æ‰“å¼€.proæ–‡ä»¶å³å¯è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/66b0740e3a2c45f2bc88a27754e2c9a7.png)

